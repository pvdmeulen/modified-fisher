---
output:
  github_document:
    df_print: tibble
---

<!-- README.md is generated from README.Rmd. Please edit that file -->

# Non-Conservative Size-Î± Modified Fisher's Exact Test
<!-- badges: start -->
[![lifecycle](https://img.shields.io/badge/lifecycle-experimental-orange.svg)](https://www.tidyverse.org/lifecycle/#experimental)
[![R-CMD-check](https://github.com/pvdmeulen/modifiedfisher/actions/workflows/R-CMD-check.yaml/badge.svg)](https://github.com/pvdmeulen/modifiedfisher/actions/workflows/R-CMD-check.yaml)
<!-- badges: end -->

```{r options, echo = FALSE, message=FALSE, include=FALSE}
options(cli.ignore_unknown_rstudio_theme = TRUE)

knitr::opts_chunk$set(
  collapse = TRUE,
  comment = "#>",
  tidy = TRUE,
  fig.path = "man/figures/README-",
  out.width = "100%"
)

```

## Installation

You can install the latest version of this `modifiedfisher` package by using `devtools`:

```{r installation, echo = TRUE, eval = FALSE}
devtools::install_github("pvdmeulen/modifiedfisher")
```

## Examples

The modified Fisher Exact Test (see more information below) can be called using the `modified_fisher_exact_test()` function:

```{r example1, echo = TRUE, eval = TRUE}
library(modifiedfisher)
modified_fisher_exact_test(u = 5, m = 12, v = 7, n = 11, odds_ratio = 1, alpha = 0.05)
```

The above example uses $m = 12$ and $n = 11$, echoing Figure 1(a) and Table 2 in the paper linked below. As you can see, the p-value, estimated odds ratio, and confidence intervals match the paper's. A similar size plot can be constructed by setting the `local_size_data` argument to `TRUE`, and using the resulting local size dataframe to construct the plot:

```{r example2, echo = TRUE, eval = TRUE}
test_result <- modified_fisher_exact_test(u = 5, m = 12, v = 7, n = 11, odds_ratio = 1, alpha = 0.05, local_size_data = TRUE)
```

The data is now stored in the `test_result$local.size.data` object:

```{r print_data, echo = FALSE, eval = TRUE}
knitr::kable(head(test_result$local.size.data))
```

## The Modified Fisher Exact Test

### [Read the article here](https://www.researchgate.net/publication/351111885_Consistent_Confidence_Limits_P_Values_and_Power_of_the_Non-Conservative_Size_-a_Modified_Fisher_Exact_Test)

- Brief rationale and explanation of theory
